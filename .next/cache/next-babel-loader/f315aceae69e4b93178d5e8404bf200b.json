{"ast":null,"code":"var _jsxFileName = \"/home/nancy/Downloads/Screencast/Screencast/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport GoogleLog from \"../components/GoogleLog\";\nimport FbLog2 from \"../components/FbLog2\";\nimport Timer2 from \"../components/Timer2\";\nimport Login from \"../components/Login\";\nimport Router from \"next/router\"; // import data from '../env.json';\n\nimport Layout from \"../components/Layout\";\nimport Loader from \"../components/Loader\";\n\nfunction index() {\n  const {\n    0: end,\n    1: setEnd\n  } = useState(Date.now());\n  const {\n    0: start,\n    1: setStart\n  } = useState(Date.now() + 2000);\n  const {\n    0: day,\n    1: setDay\n  } = useState(0);\n  const {\n    0: loading,\n    1: setloading\n  } = useState(false);\n  useEffect(() => {\n    axios.get(process.env.api + \"/api/status\").then(response => {\n      if (response.data.status == 404) Router.push('/error');\n      var temp = new Date(response.data.start_time);\n      setStart(temp.getTime() + temp.getTimezoneOffset() * 60000);\n      let temp2 = new Date(response.data.end_time);\n      setEnd(temp2.getTime() + temp2.getTimezoneOffset() * 60000);\n      setDay(response.data.current_day);\n      localStorage.setItem(\"start\", start);\n      localStorage.setItem(\"end\", end);\n      localStorage.setItem(\"day\", day);\n\n      if (localStorage.getItem('day') == 3 && localStorage.getItem('end') < Date.now()) {\n        console.log(\"finale\");\n        Router.push('/finale');\n      } else if (localStorage.getItem('email') && localStorage.getItem('start') < Date.now() && localStorage.getItem('end') > Date.now()) {\n        console.log(\"game\");\n        Router.push('/game');\n      }\n\n      setloading(true);\n    }).catch(err => {\n      console.log(err);\n      Router.push('/error');\n    }); // setloading(true)\n  });\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 14\n    }\n  }));\n}\n\nexport default index;","map":{"version":3,"sources":["/home/nancy/Downloads/Screencast/Screencast/pages/index.js"],"names":["React","useEffect","useState","axios","GoogleLog","FbLog2","Timer2","Login","Router","Layout","Loader","index","end","setEnd","Date","now","start","setStart","day","setDay","loading","setloading","get","process","env","api","then","response","data","status","push","temp","start_time","getTime","getTimezoneOffset","temp2","end_time","current_day","localStorage","setItem","getItem","console","log","catch","err"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport GoogleLog from \"../components/GoogleLog\";\nimport FbLog2 from \"../components/FbLog2\";\nimport Timer2 from \"../components/Timer2\";\nimport Login from \"../components/Login\"\nimport Router from \"next/router\";\n// import data from '../env.json';\nimport Layout from \"../components/Layout\";\nimport Loader from \"../components/Loader\";\n\nfunction index() {\n\n  const [end, setEnd] = useState(Date.now());\n  const [start, setStart] = useState(Date.now() + 2000);\n  const [day, setDay] = useState(0);\n  const [loading, setloading] = useState(false)\n\n  useEffect(() => {\n    axios\n      .get(process.env.api + \"/api/status\")\n      .then((response) => {\n        if (response.data.status == 404)\n          Router.push('/error')\n        var temp = new Date(response.data.start_time);\n        setStart(temp.getTime() + (temp.getTimezoneOffset() * 60000));\n        let temp2 = new Date(response.data.end_time);\n        setEnd(temp2.getTime() + (temp2.getTimezoneOffset() * 60000));\n        setDay(response.data.current_day)\n\n        localStorage.setItem(\"start\", start);\n        localStorage.setItem(\"end\", end);\n        localStorage.setItem(\"day\", day);\n\n        if (localStorage.getItem('day') == 3 && (localStorage.getItem('end') < Date.now())) {\n         console.log(\"finale\");\n          Router.push('/finale')\n        }\n        \n        else if (localStorage.getItem('email') && (localStorage.getItem('start') < Date.now()) && localStorage.getItem('end') > Date.now()) {\n          console.log(\"game\");\n          Router.push('/game')\n        }\n        setloading(true)\n      })\n\n      .catch(err => {\n        console.log(err)\n        Router.push('/error')\n      });\n\n    // setloading(true)\n\n  })\n\n  return (\n    <Layout>\n             <Login />\n    </Layout>\n  );\n}\n\nexport default index;"]},"metadata":{},"sourceType":"module"}